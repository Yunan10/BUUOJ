## Referer
Referer是HTTP请求`header` 的一部分,当浏览器（或者模拟浏览器行为）向`web` 服务器发送请求的时候，**头信息里有包含Referer** 。比如我在`www.xxxx.com` 里有一个`www.baidu.com` 链接，那么点击这个`www.baidu.com`，它的`header` 信息里就有：`Referer=https://www.xxxx.com`
Referer 常用在防盗链和防恶意请求中。
传输referer需要在页面内添加相关的代码。
#### 空Referer是怎么回事？什么情况下会出现Referer?
我们对空Referer的定义为，Referer头部的内容为空，或者，一个HTTP请求中根本不包含Referer头部。
根据Referer的定义，它的作用是**指示一个请求是从哪里链接过来**，那么当一个请求并**不是由链接触发产生**的，那么自然也就不需要指定这个请求的链接来源。
比如，直接在浏览器的地址栏中输入一个资源的URL地址，那么这种请求是不会包含 Referer  字段的，因为这是一个“凭空产生”的 HTTP  请求，并不是从一个地方链接过去的。
## User-Agent
User Agent中文名为**用户代理**，简称 UA，它是一个特殊字符串头，使得服务器能够识别客户使用的**操作系统及版本、CPU 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等**。可以**抓包**进行修改其中的值。
有些网站为了防止爬虫，会检验User-Agent，只有当是用户访问的时候才会传输数据。
**格式**：`User-Agent：Mozilla/5.0 (平台) 引擎版本 浏览器版本号`（此为通常格式）
## X-Forwarded-For
X-Forwarded-For（XFF）是用来识别通过HTTP代理或负载均衡方式连接到Web服务器的客户端**最原始的IP地址的HTTP请求头字段**。大概就是传输自己真实的IP地址，阻止匿名请求，但同样的也可以通过抓包进行修改。
**格式**：`X-Forwarded-For: client1, proxy1, proxy2, proxy3`其中client1是原始客户端的IP，后面接着是代理服务器的IP。

当今多数缓存服务器的用户为大型ISP，为了通过缓存的方式来降低他们的外部带宽，他们常常通过鼓励或强制用户使用代理服务器来接入互联网。
有些情况下，这些代理服务器是透明代理，用户甚至不知道自己正在使用代理上网。
如果没有XFF或者另外一种相似的技术，所有通过代理服务器的连接只会显示代理服务器的IP地址，而非连接发起的原始IP地址
这样的代理服务器实际上充当了匿名服务提供者的角色，如果连接的原始IP地址不可得，恶意访问的检测与预防的难度将大大增加。
如果你使用透明代理上网，那么在透明代理发送给服务器端的HTTP请求中会包含x-forward-for信息
简单来说就是用来传输最原始ip地址的,阻止匿名请求的，但是可以通过抓包来修改。

## ip伪造的方法：
Client-Ip: 127.0.0.1  
X-Forwarded-For: 127.0.0.1  
Host: 127.0.0.1  
Referer: `www.google.com`